{{extend 'layout.html'}}

{{block head}}
<script src="{{=URL('static', 'js/vue.js')}}"></script>
<!-- <script src="{{=URL('static','js/vue-google-maps.js')}}"></script> -->
<script>
    var my_url = "{{=URL('api', 'my_method', hmac_key=session.hmac_key)}}";
    var getMarkerUrl = "{{=URL('api', 'getmarkers', hmac_key=session.hmac_key)}}";
    var addEventUrl = "{{=URL('api', 'addevent', hmac_key=session.hmac_key)}}";
</script>
<script src="https://cdn.jsdelivr.net/emojione/2.2.6/lib/js/emojione.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/emojione/2.2.6/assets/css/emojione.min.css"/>

<!-- <script src="{{=URL('static','js/map.js')}}" async defer></script> -->
<!--<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBf-IjT8bV8XgVG_xl2B6U6DZA58l1GICI&callback=initMap&libraries=drawing"
  async defer></script>-->
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBf-IjT8bV8XgVG_xl2B6U6DZA58l1GICI"></script><!-- this CDN is the google api without using the callback fucntion 'initMap', instead we initialize the map with Vue in default_index.js -->
<script src="../static/js/gmaps.js"></script>


{{end}}

<div class="main_content">

    <div id="vue-div" class="display:none">
        <!-- Your code goes here.  Remember to call $("#vue-div").show() once you get the data for the first time. -->
        <div v-if="page=='decision_bar'">

        </div>

        <div id="event_view" v-if="page=='event_view'">
            <form>


              <div class="form-group">
                <input v-model="latt" type="text" class="form-control" id="event_name" placeholder="latt">
              </div>


              <div class="form-group">
                <input v-model="long" type="text" class="form-control" id="event_desc" placeholder="long">
              </div>

              <button type="submit" v-on:click.prevent="addMarker(latt, long)" class="btn btn-default">PostMarker</button>
            </form>
        </div>

        <div id="map"></div>

    </div><!--vue-div-->



</div>


<script src="{{=URL('static', 'js/default_index.js')}}"></script>
